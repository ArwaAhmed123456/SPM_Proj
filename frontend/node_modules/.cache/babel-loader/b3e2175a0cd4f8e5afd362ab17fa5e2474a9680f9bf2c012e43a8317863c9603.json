{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar DEFAULT_RECORD_DELIMITER = '\\n';\nvar VALID_RECORD_DELIMITERS = [DEFAULT_RECORD_DELIMITER, '\\r\\n'];\nvar CsvStringifier = /** @class */function () {\n  function CsvStringifier(fieldStringifier, recordDelimiter) {\n    if (recordDelimiter === void 0) {\n      recordDelimiter = DEFAULT_RECORD_DELIMITER;\n    }\n    this.fieldStringifier = fieldStringifier;\n    this.recordDelimiter = recordDelimiter;\n    _validateRecordDelimiter(recordDelimiter);\n  }\n  CsvStringifier.prototype.getHeaderString = function () {\n    var headerRecord = this.getHeaderRecord();\n    return headerRecord ? this.joinRecords([this.getCsvLine(headerRecord)]) : null;\n  };\n  CsvStringifier.prototype.stringifyRecords = function (records) {\n    var _this = this;\n    var csvLines = Array.from(records, function (record) {\n      return _this.getCsvLine(_this.getRecordAsArray(record));\n    });\n    return this.joinRecords(csvLines);\n  };\n  CsvStringifier.prototype.getCsvLine = function (record) {\n    var _this = this;\n    return record.map(function (fieldValue) {\n      return _this.fieldStringifier.stringify(fieldValue);\n    }).join(this.fieldStringifier.fieldDelimiter);\n  };\n  CsvStringifier.prototype.joinRecords = function (records) {\n    return records.join(this.recordDelimiter) + this.recordDelimiter;\n  };\n  return CsvStringifier;\n}();\nexports.CsvStringifier = CsvStringifier;\nfunction _validateRecordDelimiter(delimiter) {\n  if (VALID_RECORD_DELIMITERS.indexOf(delimiter) === -1) {\n    throw new Error(\"Invalid record delimiter `\" + delimiter + \"` is specified\");\n  }\n}","map":{"version":3,"names":["DEFAULT_RECORD_DELIMITER","VALID_RECORD_DELIMITERS","CsvStringifier","fieldStringifier","recordDelimiter","_validateRecordDelimiter","prototype","getHeaderString","headerRecord","getHeaderRecord","joinRecords","getCsvLine","stringifyRecords","records","_this","csvLines","Array","from","record","getRecordAsArray","map","fieldValue","stringify","join","fieldDelimiter","exports","delimiter","indexOf","Error"],"sources":["C:\\Users\\uk354\\Downloads\\SPM_Project\\node_modules\\csv-writer\\src\\lib\\csv-stringifiers\\abstract.ts"],"sourcesContent":["import {FieldStringifier} from '../field-stringifier';\nimport {Field} from '../record';\n\nconst DEFAULT_RECORD_DELIMITER = '\\n';\nconst VALID_RECORD_DELIMITERS = [DEFAULT_RECORD_DELIMITER, '\\r\\n'];\n\nexport abstract class CsvStringifier<T> {\n\n    constructor(private readonly fieldStringifier: FieldStringifier,\n                private readonly recordDelimiter = DEFAULT_RECORD_DELIMITER) {\n        _validateRecordDelimiter(recordDelimiter);\n    }\n\n    getHeaderString(): string | null {\n        const headerRecord = this.getHeaderRecord();\n        return headerRecord ? this.joinRecords([this.getCsvLine(headerRecord)]) : null;\n    }\n\n    stringifyRecords(records: IterableIterator<T> | T[]): string {\n        const csvLines = Array.from(records, record => this.getCsvLine(this.getRecordAsArray(record)));\n        return this.joinRecords(csvLines);\n    }\n\n    protected abstract getRecordAsArray(_record: T): Field[];\n\n    protected abstract getHeaderRecord(): string[] | null | undefined;\n\n    private getCsvLine(record: Field[]): string {\n        return record\n            .map(fieldValue => this.fieldStringifier.stringify(fieldValue))\n            .join(this.fieldStringifier.fieldDelimiter);\n    }\n\n    private joinRecords(records: string[]) {\n        return records.join(this.recordDelimiter) + this.recordDelimiter;\n    }\n}\n\nfunction _validateRecordDelimiter(delimiter: string): void {\n    if (VALID_RECORD_DELIMITERS.indexOf(delimiter) === -1) {\n        throw new Error(`Invalid record delimiter \\`${delimiter}\\` is specified`);\n    }\n}\n"],"mappings":";;;;;AAGA,IAAMA,wBAAwB,GAAG,IAAI;AACrC,IAAMC,uBAAuB,GAAG,CAACD,wBAAwB,EAAE,MAAM,CAAC;AAElE,IAAAE,cAAA;EAEI,SAAAA,eAA6BC,gBAAkC,EAClCC,eAA0C;IAA1C,IAAAA,eAAA;MAAAA,eAAA,GAAAJ,wBAA0C;IAAA;IAD1C,KAAAG,gBAAgB,GAAhBA,gBAAgB;IAChB,KAAAC,eAAe,GAAfA,eAAe;IACxCC,wBAAwB,CAACD,eAAe,CAAC;EAC7C;EAEAF,cAAA,CAAAI,SAAA,CAAAC,eAAe,GAAf;IACI,IAAMC,YAAY,GAAG,IAAI,CAACC,eAAe,EAAE;IAC3C,OAAOD,YAAY,GAAG,IAAI,CAACE,WAAW,CAAC,CAAC,IAAI,CAACC,UAAU,CAACH,YAAY,CAAC,CAAC,CAAC,GAAG,IAAI;EAClF,CAAC;EAEDN,cAAA,CAAAI,SAAA,CAAAM,gBAAgB,GAAhB,UAAiBC,OAAkC;IAAnD,IAAAC,KAAA;IACI,IAAMC,QAAQ,GAAGC,KAAK,CAACC,IAAI,CAACJ,OAAO,EAAE,UAAAK,MAAM;MAAI,OAAAJ,KAAI,CAACH,UAAU,CAACG,KAAI,CAACK,gBAAgB,CAACD,MAAM,CAAC,CAAC;IAA9C,CAA8C,CAAC;IAC9F,OAAO,IAAI,CAACR,WAAW,CAACK,QAAQ,CAAC;EACrC,CAAC;EAMOb,cAAA,CAAAI,SAAA,CAAAK,UAAU,GAAlB,UAAmBO,MAAe;IAAlC,IAAAJ,KAAA;IACI,OAAOI,MAAM,CACRE,GAAG,CAAC,UAAAC,UAAU;MAAI,OAAAP,KAAI,CAACX,gBAAgB,CAACmB,SAAS,CAACD,UAAU,CAAC;IAA3C,CAA2C,CAAC,CAC9DE,IAAI,CAAC,IAAI,CAACpB,gBAAgB,CAACqB,cAAc,CAAC;EACnD,CAAC;EAEOtB,cAAA,CAAAI,SAAA,CAAAI,WAAW,GAAnB,UAAoBG,OAAiB;IACjC,OAAOA,OAAO,CAACU,IAAI,CAAC,IAAI,CAACnB,eAAe,CAAC,GAAG,IAAI,CAACA,eAAe;EACpE,CAAC;EACL,OAAAF,cAAC;AAAD,CAAC,CA9BD;AAAsBuB,OAAA,CAAAvB,cAAA,GAAAA,cAAA;AAgCtB,SAASG,wBAAwBA,CAACqB,SAAiB;EAC/C,IAAIzB,uBAAuB,CAAC0B,OAAO,CAACD,SAAS,CAAC,KAAK,CAAC,CAAC,EAAE;IACnD,MAAM,IAAIE,KAAK,CAAC,+BAA8BF,SAAS,mBAAiB,CAAC;;AAEjF","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}