{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar abstract_1 = require(\"./abstract\");\nvar object_1 = require(\"../lang/object\");\nvar ObjectCsvStringifier = /** @class */function (_super) {\n  __extends(ObjectCsvStringifier, _super);\n  function ObjectCsvStringifier(fieldStringifier, header, recordDelimiter, headerIdDelimiter) {\n    var _this = _super.call(this, fieldStringifier, recordDelimiter) || this;\n    _this.header = header;\n    _this.headerIdDelimiter = headerIdDelimiter;\n    return _this;\n  }\n  ObjectCsvStringifier.prototype.getHeaderRecord = function () {\n    if (!this.isObjectHeader) return null;\n    return this.header.map(function (field) {\n      return field.title;\n    });\n  };\n  ObjectCsvStringifier.prototype.getRecordAsArray = function (record) {\n    var _this = this;\n    return this.fieldIds.map(function (fieldId) {\n      return _this.getNestedValue(record, fieldId);\n    });\n  };\n  ObjectCsvStringifier.prototype.getNestedValue = function (obj, key) {\n    if (!this.headerIdDelimiter) return obj[key];\n    return key.split(this.headerIdDelimiter).reduce(function (subObj, keyPart) {\n      return (subObj || {})[keyPart];\n    }, obj);\n  };\n  Object.defineProperty(ObjectCsvStringifier.prototype, \"fieldIds\", {\n    get: function () {\n      return this.isObjectHeader ? this.header.map(function (column) {\n        return column.id;\n      }) : this.header;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ObjectCsvStringifier.prototype, \"isObjectHeader\", {\n    get: function () {\n      return object_1.isObject(this.header && this.header[0]);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  return ObjectCsvStringifier;\n}(abstract_1.CsvStringifier);\nexports.ObjectCsvStringifier = ObjectCsvStringifier;","map":{"version":3,"names":["abstract_1","require","object_1","ObjectCsvStringifier","_super","__extends","fieldStringifier","header","recordDelimiter","headerIdDelimiter","_this","call","prototype","getHeaderRecord","isObjectHeader","map","field","title","getRecordAsArray","record","fieldIds","fieldId","getNestedValue","obj","key","split","reduce","subObj","keyPart","Object","defineProperty","get","column","id","isObject","CsvStringifier","exports"],"sources":["C:\\Users\\uk354\\Downloads\\SPM_Project\\node_modules\\csv-writer\\src\\lib\\csv-stringifiers\\object.ts"],"sourcesContent":["import {CsvStringifier} from './abstract';\nimport {FieldStringifier} from '../field-stringifier';\nimport {Field, ObjectHeaderItem, ObjectStringifierHeader} from '../record';\nimport {isObject, ObjectMap} from '../lang/object';\n\nexport class ObjectCsvStringifier extends CsvStringifier<ObjectMap<Field>> {\n\n    constructor(fieldStringifier: FieldStringifier,\n                private readonly header: ObjectStringifierHeader,\n                recordDelimiter?: string,\n                private readonly headerIdDelimiter?: string) {\n        super(fieldStringifier, recordDelimiter);\n    }\n\n    protected getHeaderRecord(): string[] | null {\n        if (!this.isObjectHeader) return null;\n        return (this.header as ObjectHeaderItem[]).map(field => field.title);\n    }\n\n    protected getRecordAsArray(record: ObjectMap<Field>): Field[] {\n        return this.fieldIds.map(fieldId => this.getNestedValue(record, fieldId));\n    }\n\n    private getNestedValue(obj: ObjectMap<Field>, key: string) {\n        if (!this.headerIdDelimiter) return obj[key];\n        return key.split(this.headerIdDelimiter).reduce((subObj, keyPart) => (subObj || {})[keyPart], obj);\n    }\n\n    private get fieldIds(): string[] {\n        return this.isObjectHeader ? (this.header as ObjectHeaderItem[]).map(column => column.id) : (this.header as string[]);\n    }\n\n    private get isObjectHeader(): boolean {\n        return isObject(this.header && this.header[0]);\n    }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAAA,UAAA,GAAAC,OAAA;AAGA,IAAAC,QAAA,GAAAD,OAAA;AAEA,IAAAE,oBAAA,0BAAAC,MAAA;EAA0CC,SAAA,CAAAF,oBAAA,EAAAC,MAAA;EAEtC,SAAAD,qBAAYG,gBAAkC,EACjBC,MAA+B,EAChDC,eAAwB,EACPC,iBAA0B;IAHvD,IAAAC,KAAA,GAIIN,MAAA,CAAAO,IAAA,OAAML,gBAAgB,EAAEE,eAAe,CAAC;IAHfE,KAAA,CAAAH,MAAM,GAANA,MAAM;IAENG,KAAA,CAAAD,iBAAiB,GAAjBA,iBAAiB;;EAE9C;EAEUN,oBAAA,CAAAS,SAAA,CAAAC,eAAe,GAAzB;IACI,IAAI,CAAC,IAAI,CAACC,cAAc,EAAE,OAAO,IAAI;IACrC,OAAQ,IAAI,CAACP,MAA6B,CAACQ,GAAG,CAAC,UAAAC,KAAK;MAAI,OAAAA,KAAK,CAACC,KAAK;IAAX,CAAW,CAAC;EACxE,CAAC;EAESd,oBAAA,CAAAS,SAAA,CAAAM,gBAAgB,GAA1B,UAA2BC,MAAwB;IAAnD,IAAAT,KAAA;IACI,OAAO,IAAI,CAACU,QAAQ,CAACL,GAAG,CAAC,UAAAM,OAAO;MAAI,OAAAX,KAAI,CAACY,cAAc,CAACH,MAAM,EAAEE,OAAO,CAAC;IAApC,CAAoC,CAAC;EAC7E,CAAC;EAEOlB,oBAAA,CAAAS,SAAA,CAAAU,cAAc,GAAtB,UAAuBC,GAAqB,EAAEC,GAAW;IACrD,IAAI,CAAC,IAAI,CAACf,iBAAiB,EAAE,OAAOc,GAAG,CAACC,GAAG,CAAC;IAC5C,OAAOA,GAAG,CAACC,KAAK,CAAC,IAAI,CAAChB,iBAAiB,CAAC,CAACiB,MAAM,CAAC,UAACC,MAAM,EAAEC,OAAO;MAAK,QAACD,MAAM,IAAI,EAAE,EAAEC,OAAO,CAAC;IAAvB,CAAuB,EAAEL,GAAG,CAAC;EACtG,CAAC;EAEDM,MAAA,CAAAC,cAAA,CAAY3B,oBAAA,CAAAS,SAAA,YAAQ;SAApB,SAAAmB,CAAA;MACI,OAAO,IAAI,CAACjB,cAAc,GAAI,IAAI,CAACP,MAA6B,CAACQ,GAAG,CAAC,UAAAiB,MAAM;QAAI,OAAAA,MAAM,CAACC,EAAE;MAAT,CAAS,CAAC,GAAI,IAAI,CAAC1B,MAAmB;IACzH,CAAC;;;;EAEDsB,MAAA,CAAAC,cAAA,CAAY3B,oBAAA,CAAAS,SAAA,kBAAc;SAA1B,SAAAmB,CAAA;MACI,OAAO7B,QAAA,CAAAgC,QAAQ,CAAC,IAAI,CAAC3B,MAAM,IAAI,IAAI,CAACA,MAAM,CAAC,CAAC,CAAC,CAAC;IAClD,CAAC;;;;EACL,OAAAJ,oBAAC;AAAD,CAAC,CA9ByCH,UAAA,CAAAmC,cAAc;AAA3CC,OAAA,CAAAjC,oBAAA,GAAAA,oBAAA","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}